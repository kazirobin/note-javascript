# ЁЯУЪ JavaScript Call Stack тАУ рж╕ржорзНржкрзВрж░рзНржг ржЗржирзНржЯрж╛рж░ржнрж┐ржЙ ржкрзНрж░рж╢рзНржи ржУ ржЙрждрзНрждрж░ (ржмрж╛ржВрж▓рж╛)

## ЁЯза ржорзМрж▓рж┐ржХ ржзрж╛рж░ржгрж╛

### рзз. JavaScript-ржП Call Stack ржХрзА?
Call Stack рж╣рж▓рзЛ ржПржХржЯрж┐ ржбрзЗржЯрж╛ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржпрж╛ JavaScript ржЗржЮрзНржЬрж┐ржи ржлрж╛ржВрж╢ржи ржХрж▓ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржПржЯрж┐ **Last-In, First-Out (LIFO)** ржкржжрзНржзрждрж┐рждрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржЕрж░рзНржерж╛рзО рж╕рж░рзНржмрж╢рзЗрж╖ ржпрзЗ ржлрж╛ржВрж╢ржи ржХрж▓ рж╣рзЯрзЗржЫрзЗ, рж╕рзЗржЯрж┐ржЗ ржкрзНрж░ржержорзЗ рж╕ржорзНржкржирзНржи рж╣рзЯред

### рзи. Call Stack ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?
- ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи ржХрж▓ рж╣рж▓рзЗ, ржПржХржЯрж┐ **stack frame** рждрзИрж░рж┐ рж╣рзЯ ржПржмржВ рж╕рзНржЯрзНржпрж╛ржХрзЗ ржпрзЛржЧ рж╣рзЯред
- ржпржжрж┐ рж╕рзЗржЗ ржлрж╛ржВрж╢ржи ржЖрж░рзЗржХржЯрж┐ ржлрж╛ржВрж╢ржи ржХрж▓ ржХрж░рзЗ, рждрж╛рж╣рж▓рзЗ ржирждрзБржи ржлрзНрж░рзЗржо ржпрзЛржЧ рж╣рзЯред
- ржлрж╛ржВрж╢ржи рж╕ржорзНржкржирзНржи рж╣рж▓рзЗ, рждрж╛рж░ ржлрзНрж░рзЗржо рж╕рзНржЯрзНржпрж╛ржХ ржерзЗржХрзЗ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рж╛ рж╣рзЯред
- ржПржЗ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржЪрж▓рждрзЗ ржерж╛ржХрзЗ ржпрждржХрзНрж╖ржг ржирж╛ рж╕рзНржЯрзНржпрж╛ржХ ржЦрж╛рж▓рж┐ рж╣рзЯред

### рзй. ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи ржХрж▓ рж╣рж▓рзЗ ржХрзА ржШржЯрзЗ?
- ржПржХржЯрж┐ ржирждрзБржи stack frame рждрзИрж░рж┐ рж╣рзЯред
- ржлрж╛ржВрж╢ржирзЗрж░ ржЖрж░рзНржЧрзБржорзЗржирзНржЯ, рж▓рзЛржХрж╛рж▓ ржнрзЗрж░рж┐рзЯрзЗржмрж▓ ржПржмржВ return address рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣рзЯред
- ржлрж╛ржВрж╢ржирзЗрж░ ржХрзЛржб рж╕рзЗржЗ ржлрзНрж░рзЗржорзЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯред
- ржпржжрж┐ ржЕржирзНржп ржлрж╛ржВрж╢ржи ржХрж▓ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржПржХржЗ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ ржкрзБржирж░рж╛ржмрзГрждрзНрждрж┐ рж╣рзЯред

### рзк. Call Stack-ржПрж░ ржЧрзБрж░рзБрждрзНржм ржХрзА?
- ржПржЯрж┐ ржлрж╛ржВрж╢ржирзЗрж░ **execution context** ржзрж░рзЗ рж░рж╛ржЦрзЗред
- рж╕ржарж┐ржХ **execution order** ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред
- **ржбрж┐ржмрж╛ржЧрж┐ржВ**-ржП рж╕рж╣рж╛рзЯрждрж╛ ржХрж░рзЗ, ржпрзЗржоржи stack trace ржжрзЗржЦрж╛рзЯред

### рзл. Call Stack-ржП тАШLIFOтАЩ ржмрж▓рждрзЗ ржХрзА ржмрзЛржЭрж╛рзЯ?
**LIFO (Last-In, First-Out)** ржЕрж░рзНрже:
- рж╕рж░рзНржмрж╢рзЗрж╖ ржпрзЛржЧ рж╣ржУрзЯрж╛ ржлрж╛ржВрж╢ржи ржкрзНрж░ржержорзЗ рж╕ржорзНржкржирзНржи рж╣рзЯред
- ржПржЯрж┐ nested ржлрж╛ржВрж╢ржи ржХрж▓рзЗрж░ рж╕ржарж┐ржХ рж░рж┐ржЯрж╛рж░рзНржи ржЕрж░рзНржбрж╛рж░ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

## ЁЯФД ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржи ржоржбрзЗрж▓

### рзм. Call Stack ржХрзАржнрж╛ржмрзЗ synchronous ржУ asynchronous ржХрзЛржб ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗ?
- **Synchronous ржХрзЛржб** рж╕рж░рж╛рж╕рж░рж┐ call stack-ржП ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯред
- **Asynchronous ржХрзЛржб** (ржпрзЗржоржи `setTimeout`, `fetch`) **event loop** ржжрзНржмрж╛рж░рж╛ ржкрж░рж┐ржЪрж╛рж▓рж┐ржд рж╣рзЯ:
  - async ржЯрж╛рж╕рзНржХ browser API-рждрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред
  - рж╕ржорзНржкржирзНржи рж╣рж▓рзЗ, рждрж╛рж░ callback **task queue**-рждрзЗ ржпрзЛржЧ рж╣рзЯред
  - call stack ржЦрж╛рж▓рж┐ рж╣рж▓рзЗ, event loop рж╕рзЗржЗ callback рж╕рзНржЯрзНржпрж╛ржХрзЗ ржкрж╛ржарж╛рзЯред

### рзн. Call Stack ржУ Event Loop-ржПрж░ рж╕ржорзНржкрж░рзНржХ ржХрзА?
- **Call Stack** synchronous ржХрзЛржб ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ ржХрж░рзЗред
- **Event Loop** call stack ржУ task queue ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рзЗред
- stack ржЦрж╛рж▓рж┐ рж╣рж▓рзЗ, queued callback рж╕рзНржЯрзНржпрж╛ржХрзЗ ржкрж╛ржарж╛рзЯред

### рзо. JavaScript-ржП Event Loop ржХрзА?
Event Loop рж╣рж▓рзЛ ржПржХржЯрж┐ ржорзЗржХрж╛ржирж┐ржЬржо ржпрж╛:
- call stack ржУ task/microtask queue ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рзЗред
- stack ржЦрж╛рж▓рж┐ рж╣рж▓рзЗ queued callback ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ ржХрж░рзЗред
- **non-blocking**, asynchronous ржЖржЪрж░ржг рж╕ржорзНржнржм ржХрж░рзЗред

### рзп. Synchronous ржУ Asynchronous ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржирзЗрж░ ржкрж╛рж░рзНржержХрзНржп ржХрзА?
| Execution Type | ржмрж░рзНржгржирж╛                                          | ржЙржжрж╛рж╣рж░ржг                        |
|----------------|--------------------------------------------------|--------------------------------|
| Synchronous     | ржПржХ рж▓рж╛ржЗржирзЗрж░ ржкрж░ ржЖрж░рзЗржХржЯрж┐ sequentially ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯ     | `let x = add(2, 3);`           |
| Asynchronous    | callback/promises ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ independently рж╣рзЯ | `setTimeout(() => {}, 1000);`  |

## тЪая╕П рждрзНрж░рзБржЯрж┐ ржУ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи

### рззрзж. Stack Overflow Error ржХрзА?
ржпржЦржи call stack рждрж╛рж░ рж╕рж░рзНржмрзЛржЪрзНржЪ рж╕рзАржорж╛ ржЕрждрж┐ржХрзНрж░ржо ржХрж░рзЗ, рждржЦржи **stack overflow** ржШржЯрзЗред рж╕рж╛ржзрж╛рж░ржгржд:
- ржЧржнрзАрж░ ржмрж╛ ржЕржиржирзНржд **recursion** ржПрж░ ржХрж╛рж░ржгрзЗред
- base case ржирж╛ ржерж╛ржХрж▓рзЗред

### рззрзз. Stack Overflow Error ржХрзАржнрж╛ржмрзЗ ржПрзЬрж╛ржирзЛ ржпрж╛рзЯ?
- **base case** рж╕рж╣ recursive ржлрж╛ржВрж╢ржи рж▓рж┐ржЦрзБржиред
- рж╕ржорзНржнржм рж╣рж▓рзЗ **iteration** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред
- **Tail Call Optimization** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи (ржпржжрж┐ ржЗржЮрзНржЬрж┐ржи рж╕ржорж░рзНржержи ржХрж░рзЗ)ред

### рззрзи. Call Stack-ржП ржлрж╛ржВрж╢ржирзЗрж░ ржоржзрзНржпрзЗ error рж╣рж▓рзЗ ржХрзА рж╣рзЯ?
- ржпржжрж┐ error ржзрж░рж╛ ржирж╛ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ рждрж╛ **stack ржЙржкрж░рзЗ** propagate ржХрж░рзЗред
- ржпрждржХрзНрж╖ржг ржирж╛ `try...catch` ржмрзНрж▓ржХ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ, stack unwind рж╣рзЯред
- ржпржжрж┐ ржзрж░рж╛ ржирж╛ ржкрзЬрзЗ, рждрж╛рж╣рж▓рзЗ global context-ржП ржкрзМржБржЫрзЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржо ржХрзНрж░рзНржпрж╛рж╢ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

### рззрзй. Tail Call Optimization ржХрзА ржПржмржВ ржПржЯрж┐ Call Stack-ржПрж░ рж╕рж╛ржерзЗ ржХрзАржнрж╛ржмрзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд?
Tail Call Optimization (TCO) ржПржоржи ржПржХржЯрж┐ ржХрзМрж╢рж▓ ржпрзЗржЦрж╛ржирзЗ recursive ржХрж▓ ржпржжрж┐ ржлрж╛ржВрж╢ржирзЗрж░ рж╢рзЗрж╖ ржХрж╛ржЬ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржирждрзБржи ржлрзНрж░рзЗржо ржирж╛ ржмрж╛ржирж┐рзЯрзЗ ржмрж░рзНрждржорж╛ржи ржлрзНрж░рзЗржо ржкрзБржиржГржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржПржЯрж┐ deep recursion-ржП stack overflow ржкрзНрж░рждрж┐рж░рзЛржз ржХрж░рзЗред

## ЁЯзй ржЙржирзНржиржд ржзрж╛рж░ржгрж╛

### рззрзк. Call Stack ржХрзАржнрж╛ржмрзЗ Promises ржУ Microtasks-ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ?
- Promise-ржПрж░ `.then`, `.catch` callback **microtask queue**-рждрзЗ ржпрж╛рзЯред
- Microtasks **regular tasks** ржПрж░ ржЖржЧрзЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯ ржпржЦржи stack ржЦрж╛рж▓рж┐ ржерж╛ржХрзЗред
- ржПржЯрж┐ ржжрзНрж░рзБржд ржУ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп async ржЖржЪрж░ржг ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

### рззрзл. Call Stack ржХрж┐ ржПржХрж╕рж╛ржерзЗ ржПржХрж╛ржзрж┐ржХ ржлрж╛ржВрж╢ржи ржХрж▓ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ ржкрж╛рж░рзЗ?
ржирж╛ред JavaScript **single-threaded**, рждрж╛ржЗ call stack ржПржХржмрж╛рж░рзЗ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ ржХрж░рзЗред concurrency ржЕрж░рзНржЬрж┐ржд рж╣рзЯ asynchronous callback ржУ event loop-ржПрж░ ржорж╛ржзрзНржпржорзЗред

### рззрзм. Debugging-ржПрж░ рж╕ржорзЯ Call Stack ржжрзЗржЦрж╛ ржпрж╛рзЯ ржХрж┐?
рж╣рзНржпрж╛ржБред Chrome ржмрж╛ Firefox-ржПрж░ Developer Tools-ржП **call stack trace** ржжрзЗржЦрж╛ ржпрж╛рзЯ ржпржЦржи execution pause рж╣рзЯ ржмрж╛ breakpoint рж╣рж┐ржЯ ржХрж░рзЗред ржкрзНрж░рждрж┐ржЯрж┐ ржлрзНрж░рзЗржо ржУ рждрж╛рж░ ржнрзЗрж░рж┐рзЯрзЗржмрж▓ ржжрзЗржЦрж╛ ржпрж╛рзЯред

### рззрзн. Call Stack ржУ Heap-ржПрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп ржХрзА?
| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп       | Call Stack                        | Heap                              |
|----------------|-----------------------------------|-----------------------------------|
| ржЙржжрзНржжрзЗрж╢рзНржп       | ржлрж╛ржВрж╢ржи ржХрж▓ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рзЗ               | ржбрж╛рзЯржирж╛ржорж┐ржХ ржорзЗржорзЛрж░рж┐ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ      |
| рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░     | LIFO stack                        | Unordered memory allocation       |
| ржмрзНржпржмрж╣рж╛рж░         | Execution context                 | ржЕржмржЬрзЗржХрзНржЯ, ржХрзНрж▓рзЛржЬрж╛рж░, ржмрзЬ ржбрзЗржЯрж╛        |

### рззрзо. Stack Frame ржХрзА?
Stack Frame рж╣рж▓рзЛ call stack-ржП ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи ржХрж▓рзЗрж░ рж░рзЗржХрж░рзНржбред ржПржЯрж┐ ржзрж╛рж░ржг ржХрж░рзЗ:
- ржлрж╛ржВрж╢ржирзЗрж░ ржЖрж░рзНржЧрзБржорзЗржирзНржЯ
- рж▓рзЛржХрж╛рж▓ ржнрзЗрж░рж┐рзЯрзЗржмрж▓
- return address

### рззрзп. JavaScript-ржП Closure ржХрзА?
Closure рж╣рж▓рзЛ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи ржпрж╛ рждрж╛рж░ **outer scope**-ржПрж░ ржнрзЗрж░рж┐рзЯрзЗржмрж▓ retain ржХрж░рзЗ, ржПржоржиржХрж┐ outer ржлрж╛ржВрж╢ржи return ржХрж░рж╛рж░ ржкрж░рзЗржУред ржПржЯрж┐ ржмрзНржпржмрж╣рзГржд рж╣рзЯ:
- ржбрзЗржЯрж╛ encapsulation-ржП
- state ржмржЬрж╛рзЯ рж░рж╛ржЦрждрзЗ

### рзирзж. Recursion ржУ Iteration ржХрзАржнрж╛ржмрзЗ Call Stack-ржХрзЗ ржнрж┐ржирзНржиржнрж╛ржмрзЗ ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗ?
- **Recursion** ржкрзНрж░рждрж┐ржЯрж┐ ржХрж▓рзЗрж░ ржЬржирзНржп ржирждрзБржи stack frame рждрзИрж░рж┐ ржХрж░рзЗ, ржпрж╛ overflow ржШржЯрж╛рждрзЗ ржкрж╛рж░рзЗред
- **Iteration** ржПржХржЗ ржлрзНрж░рзЗржо ржкрзБржиржГржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, ржпрж╛ ржорзЗржорзЛрж░рж┐-рж╕рж╛рж╢рзНрж░рзЯрзАред

---

тЬЕ **ржЗржирзНржЯрж╛рж░ржнрж┐ржЙ ржЯрж┐ржкрж╕:** Call Stack ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рждрзЗ ржкрзНрж░рж╕рзНрждрзБржд ржерж╛ржХрзБржи ржбрж╛рзЯрж╛ржЧрзНрж░рж╛ржо ржмрж╛ рж▓рж╛ржЗржн ржХрзЛржб ржжрж┐рзЯрзЗред Event Loop ржУ asynchronous ржЖржЪрж░ржгрзЗрж░ рж╕рж╛ржерзЗ ржПрж░ рж╕ржорзНржкрж░рзНржХ ржмрзЛржЭрж╛ JavaScript ржжржХрзНрж╖рждрж╛рж░ ржЬржирзНржп ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред
